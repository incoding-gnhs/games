<!DOCTYPE html> <html lang="ko"> <head> <meta charset="UTF-8"> <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"> <title>í„´ì œ ë°°í‹€ ê²Œì„</title> <style> * { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; } body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%); min-height: 100vh; color: white; overflow-x: hidden; touch-action: manipulation; } .container { max-width: 800px; margin: 0 auto; padding: 20px; } h1 { text-align: center; font-size: 2rem; margin-bottom: 30px; text-shadow: 2px 2px 4px rgba(0,0,0,0.5); } /* ì§ì—… ì„ íƒ í™”ë©´ */ .job-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px; margin-bottom: 20px; } .job-card { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border: none; border-radius: 12px; padding: 20px; color: white; cursor: pointer; transition: transform 0.2s, box-shadow 0.2s; box-shadow: 0 4px 6px rgba(0,0,0,0.3); touch-action: manipulation; } .job-card:active { transform: scale(0.95); } .job-card:hover { transform: translateY(-5px); box-shadow: 0 8px 12px rgba(0,0,0,0.4); } .job-icon { width: 50px; height: 50px; margin: 0 auto 10px; background: rgba(255,255,255,0.2); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 24px; } .job-name { font-size: 1.2rem; font-weight: bold; margin-bottom: 10px; text-align: center; } .job-stats { font-size: 0.85rem; line-height: 1.6; } .job-skill { color: #ffd700; font-weight: bold; margin-top: 5px; } /* ë°°í‹€ í™”ë©´ */ .battle-area { display: none; } .battle-area.active { display: block; } .characters { display: grid; grid-template-columns: 1fr; gap: 20px; margin-bottom: 30px; } .character-card { border-radius: 12px; padding: 20px; box-shadow: 0 4px 6px rgba(0,0,0,0.3); } .player-card { background: linear-gradient(135deg, #10b981 0%, #059669 100%); border: 3px solid #34d399; } .enemy-card { background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%); border: 3px solid #f87171; } .character-header { display: flex; align-items: center; gap: 10px; margin-bottom: 15px; font-size: 1.3rem; font-weight: bold; } .stat-bar { margin-bottom: 12px; } .stat-label { display: flex; justify-content: space-between; margin-bottom: 5px; font-size: 0.9rem; } .stat-bar-bg { width: 100%; height: 12px; background: rgba(0,0,0,0.3); border-radius: 6px; overflow: hidden; } .stat-bar-fill { height: 100%; transition: width 0.3s ease; border-radius: 6px; } .hp-bar { background: #ef4444; } .np-bar { background: #3b82f6; } .character-stats { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; font-size: 0.85rem; margin-top: 10px; } /* ì•¡ì…˜ ë²„íŠ¼ */ .action-buttons { display: flex; flex-direction: column; gap: 15px; margin-bottom: 30px; } .action-btn { padding: 18px; border: none; border-radius: 12px; font-size: 1.1rem; font-weight: bold; color: white; cursor: pointer; transition: all 0.2s; box-shadow: 0 4px 6px rgba(0,0,0,0.3); touch-action: manipulation; } .action-btn:active { transform: scale(0.95); } .attack-btn { background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%); } .attack-btn:hover:not(:disabled) { background: linear-gradient(135deg, #2563eb 0%, #1d4ed8 100%); } .skill-btn { background: linear-gradient(135deg, #a855f7 0%, #9333ea 100%); } .skill-btn:hover:not(:disabled) { background: linear-gradient(135deg, #9333ea 0%, #7e22ce 100%); } .action-btn:disabled { background: #4b5563; color: #9ca3af; cursor: not-allowed; opacity: 0.6; } /* ì „íˆ¬ ë¡œê·¸ */ .battle-log { background: rgba(0,0,0,0.7); border-radius: 12px; padding: 20px; max-height: 250px; overflow-y: auto; margin-bottom: 20px; } .battle-log h3 { font-size: 1.2rem; margin-bottom: 15px; } .log-entry { color: #e5e7eb; margin-bottom: 8px; line-height: 1.5; font-size: 0.95rem; } /* ê²Œì„ ì¢…ë£Œ */ .game-over { text-align: center; margin-top: 20px; } .restart-btn { padding: 18px 40px; background: linear-gradient(135deg, #10b981 0%, #059669 100%); border: none; border-radius: 12px; color: white; font-size: 1.2rem; font-weight: bold; cursor: pointer; box-shadow: 0 4px 6px rgba(0,0,0,0.3); touch-action: manipulation; } .restart-btn:active { transform: scale(0.95); } .turn-indicator { text-align: center; font-size: 1.1rem; margin-bottom: 15px; padding: 10px; background: rgba(255,255,255,0.1); border-radius: 8px; } @media (min-width: 640px) { .job-grid { grid-template-columns: repeat(3, 1fr); } .action-buttons { flex-direction: row; } } </style> </head> <body> <div class="container"> <h1 id="title">ì§ì—…ì„ ì„ íƒí•˜ì„¸ìš”</h1> <!-- ì§ì—… ì„ íƒ í™”ë©´ --> <div id="jobSelect" class="job-grid"></div> <!-- ë°°í‹€ í™”ë©´ --> <div id="battleArea" class="battle-area"> <div class="turn-indicator" id="turnIndicator"></div> <div class="characters"> <div class="character-card player-card"> <div class="character-header"> <span>ğŸ‘¤</span> <span id="playerName">í”Œë ˆì´ì–´</span> </div> <div class="stat-bar"> <div class="stat-label"> <span>â¤ï¸ HP</span> <span id="playerHpText">0/0</span> </div> <div class="stat-bar-bg"> <div class="stat-bar-fill hp-bar" id="playerHpBar"></div> </div> </div> <div class="stat-bar"> <div class="stat-label"> <span>âš¡ NP</span> <span id="playerNpText">0/0</span> </div> <div class="stat-bar-bg"> <div class="stat-bar-fill np-bar" id="playerNpBar"></div> </div> </div> <div class="character-stats"> <div>âš”ï¸ ê³µê²©: <span id="playerAtk">0</span></div> <div>ğŸ›¡ï¸ ë°©ì–´: <span id="playerDef">0</span></div> </div> </div> <div class="character-card enemy-card"> <div class="character-header"> <span>ğŸ‘¹</span> <span id="enemyName">ì </span> </div> <div class="stat-bar"> <div class="stat-label"> <span>â¤ï¸ HP</span> <span id="enemyHpText">0/0</span> </div> <div class="stat-bar-bg"> <div class="stat-bar-fill hp-bar" id="enemyHpBar"></div> </div> </div> <div class="stat-bar"> <div class="stat-label"> <span>âš¡ NP</span> <span id="enemyNpText">0/0</span> </div> <div class="stat-bar-bg"> <div class="stat-bar-fill np-bar" id="enemyNpBar"></div> </div> </div> <div class="character-stats"> <div>âš”ï¸ ê³µê²©: <span id="enemyAtk">0</span></div> <div>ğŸ›¡ï¸ ë°©ì–´: <span id="enemyDef">0</span></div> </div> </div> </div> <div class="action-buttons"> <button class="action-btn attack-btn" id="attackBtn">ì¼ë°˜ ê³µê²©</button> <button class="action-btn skill-btn" id="skillBtn">ìŠ¤í‚¬</button> </div> <div class="battle-log"> <h3>ì „íˆ¬ ë¡œê·¸</h3> <div id="logContainer"></div> </div> <div class="game-over" id="gameOver" style="display: none;"> <button class="restart-btn" id="restartBtn">ë‹¤ì‹œ ì‹œì‘</button> </div> </div> </div> 


<script>
  const JOBS = {
    ë§ˆë²•ì‚¬: { hp: 80, np: 150, attack: 35, defense: 5, skill: 'íŒŒì´ì–´ë³¼', skillCost: 30, skillDmg: 60 },
    ê²€ì‚¬: { hp: 120, np: 80, attack: 45, defense: 15, skill: 'ì—°ì†ë² ê¸°', skillCost: 25, skillDmg: 70 },
    ì„±ê¸°ì‚¬: { hp: 150, np: 100, attack: 35, defense: 25, skill: 'ì‹ ì„±í•œë¹›', skillCost: 35, skillDmg: 50 },
    ë¬¼ë¦¬í•™ì: { hp: 90, np: 120, attack: 40, defense: 10, skill: 'ì–‘ìë¶•ê´´', skillCost: 40, skillDmg: 80 },
    ë†ë¶€: { hp: 110, np: 60, attack: 30, defense: 20, skill: 'ë‚«ì§ˆ', skillCost: 20, skillDmg: 45 },
    ì¡¸ë³‘: { hp: 100, np: 70, attack: 35, defense: 15, skill: 'ëŒì§„', skillCost: 25, skillDmg: 55 },
    ê±°ì§€: { hp: 70, np: 50, attack: 25, defense: 5, skill: 'êµ¬ê±¸', skillCost: 15, skillDmg: 30 },
    ìƒì¸: { hp: 85, np: 90, attack: 30, defense: 10, skill: 'ê¸ˆí™”íˆ¬ì²™', skillCost: 20, skillDmg: 50 },
    íëŸ¬: { hp: 95, np: 130, attack: 20, defense: 8, skill: 'ì¹˜ìœ ì˜ì†ê¸¸', skillCost: 25, skillDmg: -40 },
    ë„ì : { hp: 75, np: 100, attack: 50, defense: 8, skill: 'ì•”ìŠµ', skillCost: 30, skillDmg: 75 }
  };

  const ATTACK_EFFECTS = [
    { type: 'miss', name: 'ë¹—ë‚˜ê°!', multiplier: 0, chance: 0.1 },
    { type: 'critical', name: 'ê¸‰ì†Œ ì ì¤‘!', multiplier: 2, chance: 0.15 },
    { type: 'dodge', name: 'íšŒí”¼ë‹¹í•¨!', multiplier: 0, chance: 0.1 },
    { type: 'self', name: 'ìì‹ ì„ ê³µê²©!', multiplier: -0.5, chance: 0.05 },
    { type: 'normal', name: 'ëª…ì¤‘!', multiplier: 1, chance: 0.6 }
  ];

  // âœ… ì—°ìŠ¹ ì¹´ìš´í„° ì¶”ê°€
  let winStreak = 0;

  let gameState = {
    phase: 'select',
    player: null,
    enemy: null,
    turn: 'player',
    log: [],
    winner: null
  };

  // ì§ì—… ì„ íƒ í™”ë©´ ë Œë”ë§
  function renderJobSelect() {
    const container = document.getElementById('jobSelect');
    container.innerHTML = '';
    
    Object.keys(JOBS).forEach(jobName => {
      const job = JOBS[jobName];
      const card = document.createElement('button');
      card.className = 'job-card';
      card.innerHTML = `
        <div class="job-icon">ğŸ‘¤</div>
        <div class="job-name">${jobName}</div>
        <div class="job-stats">
          HP: ${job.hp}<br>
          NP: ${job.np}<br>
          ê³µê²©: ${job.attack}<br>
          <div class="job-skill">${job.skill}</div>
        </div>
      `;
      card.addEventListener('click', () => selectJob(jobName));
      container.appendChild(card);
    });
  }

  // ì§ì—… ì„ íƒ
  function selectJob(jobName) {
    const playerData = {
      job: jobName,
      ...JOBS[jobName],
      maxHp: JOBS[jobName].hp,
      maxNp: JOBS[jobName].np,
      currentHp: JOBS[jobName].hp,
      currentNp: JOBS[jobName].np
    };

    const jobList = Object.keys(JOBS);
    const randomJob = jobList[Math.floor(Math.random() * jobList.length)];
    const enemyData = {
      job: randomJob,
      ...JOBS[randomJob],
      maxHp: JOBS[randomJob].hp,
      maxNp: JOBS[randomJob].np,
      currentHp: JOBS[randomJob].hp,
      currentNp: JOBS[randomJob].np
    };

    gameState.player = playerData;
    gameState.enemy = enemyData;
    gameState.phase = 'battle';
    gameState.log = [
      `í”Œë ˆì´ì–´ëŠ” ${jobName}ì„(ë¥¼) ì„ íƒí–ˆë‹¤!`,
      `ì  ${randomJob}ì´(ê°€) ë‚˜íƒ€ë‚¬ë‹¤!`
    ];

    document.getElementById('jobSelect').style.display = 'none';
    document.getElementById('battleArea').classList.add('active');
    document.getElementById('title').textContent = 'í„´ì œ ë°°í‹€';
    
    updateBattleUI();
  }

  // ê³µê²© íš¨ê³¼ ê³„ì‚°
  function getAttackEffect() {
    const random = Math.random();
    let cumulative = 0;
    
    for (const effect of ATTACK_EFFECTS) {
      cumulative += effect.chance;
      if (random <= cumulative) {
        return effect;
      }
    }
    return ATTACK_EFFECTS[4];
  }

  // ê³µê²© ì²˜ë¦¬
  function attack(attacker, defender, isSkill = false) {
    if (isSkill && attacker.currentNp < attacker.skillCost) {
      return { success: false, message: 'NPê°€ ë¶€ì¡±í•©ë‹ˆë‹¤!' };
    }

    const effect = getAttackEffect();
    let damage = isSkill ? attacker.skillDmg : attacker.attack;
    
    if (effect.type === 'self') {
      damage = Math.max(0, Math.floor(attacker.attack * Math.abs(effect.multiplier)));
      const newHp = Math.max(0, attacker.currentHp - damage);
      return {
        success: true,
        effect: effect.name,
        damage,
        newHp,
        isSelf: true,
        npCost: isSkill ? attacker.skillCost : 0
      };
    }

    if (isSkill && attacker.skill === 'ì¹˜ìœ ì˜ì†ê¸¸') {
      const heal = Math.abs(damage);
      const newHp = Math.min(attacker.maxHp, attacker.currentHp + heal);
      return {
        success: true,
        effect: 'ì¹˜ìœ  ì„±ê³µ!',
        damage: heal,
        newHp,
        isHeal: true,
        npCost: attacker.skillCost
      };
    }

    if (effect.multiplier === 0) {
      return {
        success: true,
        effect: effect.name,
        damage: 0,
        newHp: defender.currentHp,
        npCost: isSkill ? attacker.skillCost : 0
      };
    }

    damage = Math.floor(damage * effect.multiplier);
    damage = Math.max(0, damage - defender.defense);
    const newHp = Math.max(0, defender.currentHp - damage);

    return {
      success: true,
      effect: effect.name,
      damage,
      newHp,
      npCost: isSkill ? attacker.skillCost : 0
    };
  }

  // í”Œë ˆì´ì–´ ê³µê²©
  function playerAttack(isSkill = false) {
    if (gameState.turn !== 'player' || gameState.phase !== 'battle') return;

    const result = attack(gameState.player, gameState.enemy, isSkill);
    
    if (!result.success) {
      addLog(result.message);
      return;
    }

    gameState.player.currentNp -= result.npCost;
    
    if (result.isSelf) {
      gameState.player.currentHp = result.newHp;
    } else if (result.isHeal) {
      gameState.player.currentHp = result.newHp;
    } else {
      gameState.enemy.currentHp = result.newHp;
    }

    let message = isSkill 
      ? `í”Œë ˆì´ì–´ê°€ ${gameState.player.skill}ì„(ë¥¼) ì‚¬ìš©! ${result.effect}` 
      : `í”Œë ˆì´ì–´ì˜ ê³µê²©! ${result.effect}`;

    if (result.isHeal) {
      message += ` HP ${result.damage} íšŒë³µ!`;
    } else if (result.isSelf) {
      message += ` ìì‹ ì—ê²Œ ${result.damage} ë°ë¯¸ì§€!`;
    } else {
      message += ` ${result.damage} ë°ë¯¸ì§€!`;
    }

    addLog(message);
    updateBattleUI();

    if (gameState.player.currentHp <= 0) {
      endGame('enemy');
    } else if (gameState.enemy.currentHp <= 0) {
      endGame('player');
    } else {
      gameState.turn = 'enemy';
      updateBattleUI();
      setTimeout(enemyTurn, 1500);
    }
  }

  // ì  í„´
  function enemyTurn() {
    const useSkill = gameState.enemy.currentNp >= gameState.enemy.skillCost && Math.random() > 0.5;
    const result = attack(gameState.enemy, gameState.player, useSkill);

    gameState.enemy.currentNp -= result.npCost;
    
    if (result.isSelf) {
      gameState.enemy.currentHp = result.newHp;
    } else if (result.isHeal) {
      gameState.enemy.currentHp = result.newHp;
    } else {
      gameState.player.currentHp = result.newHp;
    }

    let message = useSkill 
      ? `ì ì´ ${gameState.enemy.skill}ì„(ë¥¼) ì‚¬ìš©! ${result.effect}` 
      : `ì ì˜ ê³µê²©! ${result.effect}`;

    if (result.isHeal) {
      message += ` HP ${result.damage} íšŒë³µ!`;
    } else if (result.isSelf) {
      message += ` ìì‹ ì—ê²Œ ${result.damage} ë°ë¯¸ì§€!`;
    } else {
      message += ` ${result.damage} ë°ë¯¸ì§€!`;
    }

    addLog(message);
    updateBattleUI();

    if (gameState.player.currentHp <= 0) {
      endGame('enemy');
    } else if (gameState.enemy.currentHp <= 0) {
      endGame('player');
    } else {
      gameState.turn = 'player';
      updateBattleUI();
    }
  }

  // âœ… ê²Œì„ ì¢…ë£Œ (ì—°ìŠ¹ ì¹´ìš´í„° í¬í•¨)
  function endGame(winner) {
    gameState.phase = 'end';
    gameState.winner = winner;
    
    if (winner === 'player') {
      winStreak++;
      addLog(`í”Œë ˆì´ì–´ê°€ ìŠ¹ë¦¬í–ˆìŠµë‹ˆë‹¤! ğŸ‰ (í˜„ì¬ ${winStreak}ì—°ìŠ¹)`);
    } else {
      addLog(`í”Œë ˆì´ì–´ê°€ íŒ¨ë°°í–ˆìŠµë‹ˆë‹¤... ğŸ˜¢`);
      addLog(`ì´ë²ˆ ì „ì : ${winStreak}ì—°ìŠ¹ í›„ íŒ¨ë°°`);
      winStreak = 0;
    }
    
    updateBattleUI();
    document.getElementById('gameOver').style.display = 'block';
  }

  // ë¡œê·¸ ì¶”ê°€
  function addLog(message) {
    gameState.log.push(message);
    const container = document.getElementById('logContainer');
    const entry = document.createElement('div');
    entry.className = 'log-entry';
    entry.textContent = message;
    container.appendChild(entry);
    container.scrollTop = container.scrollHeight;
  }

  // UI ì—…ë°ì´íŠ¸
  function updateBattleUI() {
    const { player, enemy, turn, phase } = gameState;

    document.getElementById('playerName').textContent = `í”Œë ˆì´ì–´ - ${player.job}`;
    document.getElementById('playerHpText').textContent = `${player.currentHp}/${player.maxHp}`;
    document.getElementById('playerNpText').textContent = `${player.currentNp}/${player.maxNp}`;
    document.getElementById('playerHpBar').style.width = `${(player.currentHp / player.maxHp) * 100}%`;
    document.getElementById('playerNpBar').style.width = `${(player.currentNp / player.maxNp) * 100}%`;
    document.getElementById('playerAtk').textContent = player.attack;
    document.getElementById('playerDef').textContent = player.defense;

    document.getElementById('enemyName').textContent = `ì  - ${enemy.job}`;
    document.getElementById('enemyHpText').textContent = `${enemy.currentHp}/${enemy.maxHp}`;
    document.getElementById('enemyNpText').textContent = `${enemy.currentNp}/${enemy.maxNp}`;
    document.getElementById('enemyHpBar').style.width = `${(enemy.currentHp / enemy.maxHp) * 100}%`;
    document.getElementById('enemyNpBar').style.width = `${(enemy.currentNp / enemy.maxNp) * 100}%`;
    document.getElementById('enemyAtk').textContent = enemy.attack;
    document.getElementById('enemyDef').textContent = enemy.defense;

    const turnText = turn === 'player' ? 'í”Œë ˆì´ì–´ í„´' : 'ì  í„´';
    document.getElementById('turnIndicator').textContent = turnText;

    const attackBtn = document.getElementById('attackBtn');
    const skillBtn = document.getElementById('skillBtn');
    
    if (phase === 'battle' && turn === 'player') {
      attackBtn.disabled = false;
      skillBtn.disabled = player.currentNp < player.skillCost;
      skillBtn.textContent = `${player.skill} (NP ${player.skillCost})`;
    } else {
      attackBtn.disabled = true;
      skillBtn.disabled = true;
    }
  }

  // âœ… ê²Œì„ ë¦¬ì…‹ (ì—°ìŠ¹ì€ ìœ ì§€)
  function resetGame() {
    gameState = {
      phase: 'select',
      player: null,
      enemy: null,
      turn: 'player',
      log: [],
      winner: null
    };

    document.getElementById('jobSelect').style.display = 'grid';
    document.getElementById('battleArea').classList.remove('active');
    document.getElementById('gameOver').style.display = 'none';
    document.getElementById('title').textContent = 'ì§ì—…ì„ ì„ íƒí•˜ì„¸ìš”';
    document.getElementById('logContainer').innerHTML = '';
  }

  document.getElementById('attackBtn').addEventListener('click', () => playerAttack(false));
  document.getElementById('skillBtn').addEventListener('click', () => playerAttack(true));
  document.getElementById('restartBtn').addEventListener('click', resetGame);

  renderJobSelect();
</script>


 </body> </html>