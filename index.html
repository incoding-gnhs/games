<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>게임 목록</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: #f5f5f5;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .container {
            max-width: 1200px;
            width: 100%;
            padding: 20px;
        }

        h1 {
            text-align: center;
            color: #333;
            margin-bottom: 30px;
            font-size: 2.5rem;
        }

        .games-grid {
            display: none;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px;
            padding: 20px;
        }

        .game-card {
            background: white;
            border-radius: 12px;
            padding: 20px;
            text-align: center;
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
            cursor: pointer;
            border: 2px solid transparent;
        }

        .game-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
            border-color: #007bff;
        }

        .game-title {
            font-size: 1.2rem;
            font-weight: bold;
            color: #333;
            margin-bottom: 10px;
        }

        .game-id {
            font-size: 0.9rem;
            color: #666;
            background: #f8f9fa;
            padding: 5px 10px;
            border-radius: 15px;
            display: inline-block;
        }

        .mobile-message {
            display: none;
            text-align: center;
            color: #333;
            font-size: 1.2rem;
            background: white;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
        }

        /* 가로 화면일 때만 게임 목록 표시 */
        @media (orientation: landscape) and (min-width: 768px) {
            .games-grid {
                display: grid;
            }
            .mobile-message {
                display: none;
            }
        }

        /* 세로 화면이거나 작은 화면일 때 메시지 표시 */
        @media (orientation: portrait), (max-width: 767px) {
            .games-grid {
                display: none;
            }
            .mobile-message {
                display: block;
            }
        }

        .loading {
            text-align: center;
            color: #666;
            font-size: 1.1rem;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>🎮 게임 목록</h1>
        
        <div class="mobile-message">
            <h2>📱 모바일 게임</h2>
            <div id="mobileGamesGrid" class="games-grid" style="display: grid; margin-top: 20px;">
                <div class="loading">게임 목록을 불러오는 중...</div>
            </div>
        </div>

        <div class="games-grid" id="gamesGrid">
            <div class="loading">게임 목록을 불러오는 중...</div>
        </div>
    </div>

    <script>
        // 게임 파일 목록 (하드코딩)
        const allGames = [
            { name: '유리잔-깨기.html', folder: 'all' },
            { name: '턴제 배틀.html', folder: 'all' },
            { name: '피아노 타일.html', folder: 'all' }
        ];

        const desktopOnlyGames = [
            { name: '1vs1 슈팅.html', folder: 'desktop' },
            { name: '레인 피하기.html', folder: 'desktop' },
            { name: '우주 슈팅.html', folder: 'desktop' },
            { name: 'mobile-shooter-game - 20701강병률.html', folder: 'desktop' },
            { name: 'space-shooter-competitive - 20606김견우.html', folder: 'desktop' },
            { name: 'subway_runner_game - 20725장호연.html', folder: 'desktop' }
        ];

        const mobileOnlyGames = [
            { name: '스네이크.html', folder: 'mobile' },
            { name: 'crossy_road_game.html', folder: 'mobile' }
        ];

        // PC용 게임 목록 (desktop + all)
        let desktopGames = [...desktopOnlyGames, ...allGames];

        // 모바일용 게임 목록 (mobile + all)
        let mobileGames = [...mobileOnlyGames, ...allGames];

        // 화면 방향과 크기 확인
        function checkScreenOrientation() {
            const isLandscape = window.innerWidth > window.innerHeight;
            const isWideScreen = window.innerWidth >= 768;
            
            return isLandscape && isWideScreen;
        }

        // 게임 카드 생성 (데스크탑)
        function createGameCard(game) {
            const gameId = game.name.replace('.html', '');
            const card = document.createElement('div');
            card.className = 'game-card';
            card.onclick = () => navigateToGame(game.name, game.folder);
            
            card.innerHTML = `
                <div class="game-title">${gameId}</div>
                <div class="game-id">${game.folder}</div>
            `;
            
            return card;
        }

        // 모바일 게임 카드 생성
        function createMobileGameCard(game) {
            const gameId = game.name.replace('.html', '');
            const card = document.createElement('div');
            card.className = 'game-card';
            card.onclick = () => navigateToGame(game.name, game.folder);
            
            card.innerHTML = `
                <div class="game-title">${gameId}</div>
                <div class="game-id">${game.folder}</div>
            `;
            
            return card;
        }

        // 게임으로 이동
        function navigateToGame(filename, folder) {
            window.location.href = `games/${folder}/${filename}`;
        }

        // 데스크탑 게임 목록 렌더링
        function renderGames() {
            const gamesGrid = document.getElementById('gamesGrid');
            
            if (checkScreenOrientation()) {
                if (desktopGames.length === 0) {
                    gamesGrid.innerHTML = '<div class="loading">게임이 없습니다.</div>';
                    return;
                }
                
                gamesGrid.innerHTML = '';
                
                desktopGames.forEach(game => {
                    const card = createGameCard(game);
                    gamesGrid.appendChild(card);
                });
            }
        }

        // 모바일 게임 목록 렌더링
        function renderMobileGames() {
            const mobileGamesGrid = document.getElementById('mobileGamesGrid');
            
            if (mobileGames.length === 0) {
                mobileGamesGrid.innerHTML = '<div class="loading">모바일 게임이 없습니다.</div>';
                return;
            }
            
            mobileGamesGrid.innerHTML = '';
            
            mobileGames.forEach(game => {
                const card = createMobileGameCard(game);
                mobileGamesGrid.appendChild(card);
            });
        }

        // 초기 렌더링
        document.addEventListener('DOMContentLoaded', () => {
            renderGames(); // 데스크탑 게임 목록 렌더링
            renderMobileGames(); // 모바일 게임 목록 렌더링
        });

        // 화면 크기 변경 시 다시 확인
        window.addEventListener('resize', () => {
            renderGames();
            renderMobileGames();
        });
        window.addEventListener('orientationchange', () => {
            setTimeout(() => {
                renderGames();
                renderMobileGames();
            }, 100); // 방향 변경 후 약간의 지연
        });
    </script>
</body>
</html>
